# Gregor Joseph Werner: A thematic catalogue of his works

## Folders

(Not all of these folders appear in the git repository.)

- `_book`: Quarto output
- `data`:
  - `catalogue_overview.csv`: overall structure of the catalogue (groups and subgroups)
  - `catalogue_works.csv`:
    - all works with WerW numbers and locations
    - several sigla in a cell are separated by a pipe
    - if there are several works with an equal siglum, the last three digits of the RISM ID are appended in brackets
  - `rism_entries.xml`: RISM entries with Werner as author as of 2024-01-27
  - `works_in_rism.csv`: works listed in RISM as of 2024-01-27 (867 works)
  - `works_missing_in_rism.csv`: works without RISM entry, manually curated
  - `incipits`:
    - manually curated incipits in MEI format
    - one subfolder per work (`[group]_[number]`)
    - the incipit `main.mei` or `main.ly` is required and will be used on the group overview page
    - other incipits are imported in MerMEId
  - `works_html`:
    - HTML files exported from the MerMEId HTML preview (`[group]_[number].html`)
    - process with `script/prepare_mermeid_html.sh`
    - `resources`: various files required for rendering these pages
  - `works_mei`:
    - work metadata in MEI format exported from MerMEId (`[group]_[number].xml`)
    - download files from http://localhost:8080/apps/eXide/index.html
    - process with `script/prepare_mermeid_xml.sh`
- `data_generated`: output files generated by the scripts in this repository
- `groups`: QMD files generated by R scripts, one per group of works, and one page with an overview table
- `images`: images used on the webpage
- `incipits`: incipit images generated from PAE code in RISM entries or from `data/incipits/[work]/main.[mei/ly]`, one subfolder per work (`[group]_[number]`)
- `renv`: R environment data
- `script`: bash, Python, and R scripts

The root folder contains the usual files required by Quarto. Notably,

- `apa-6th-edition.csl` describes the citation style;
- `references.bib` contains all references; and
- `styling.scss` customizes CSS.


## How to create the webpage

1. Prepare webpages and images: `script/prepare_works.R`.
2. Render the book with Quarto: `quarto render`.
3. Move generated files into the site folder: `cp -r data/works_html _book/works && cp -r data/works_mei _book/works/metadata && cp -r incipits _book` (not necessary during preview)
4. Deploy the folder `_book` via rsync, either to the folder `werner-catalogue` (released versions) or `werner-catalogue-draft` (draft versions).
